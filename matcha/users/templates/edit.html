{% extends "layout.html" %} {% block content %}

<div class="content-section">
	<form action="" method="POST">
		<fieldset class="form-group">
			<legend class="border-bottom mb-4">Edit Details<a href="{{ url_for('users.profile') }}" class="float-right page-links text-primary">Back</a></legend>
			<div class="form-group">
				<label for="fname" class="form-control-label">First Name</label>
				<input
					type="text"
					name="fname"
					id="fname"
					class="form-control
				form-control-lg"
					value="{{ user.fname }}"
					required
				/>
			</div>
			<div class="form-group">
				<label for="lname" class="form-control-label">Last Name</label>
				<input
					type="text"
					name="lname"
					id="lname"
					class="form-control form-control-lg"
					value="{{ user.lname }}"
					required
				/>
			</div>
			<div class="form-group">
				<label for="username" class="form-control-label"
					>Username</label
				>
				<input
					type="text"
					name="username"
					id="username"
					class="form-control form-control-lg"
					value="{{ user.username }}"
					required
				/>
			</div>
			<div class="form-group">
				<label for="email" class="form-control-label">Email</label>
				<input
					type="text"
					name="email"
					id="email"
					class="form-control form-control-lg"
					value="{{ user.email }}"
					required
				/>
			</div>
			<div class="form-row align-items-center">
				<div class="col-auto my-1">
					<label class="mr-sm-2" for="gender">Gender</label>
					<select
						class="custom-select mr-sm-2 form-control form-control-lg"
						id="gender"
						name="gender"
					>
						{% if user.gender %} {% if user.gender == 'M' %}
						<option selected hidden value="M">Male</option>
						{% elif user.gender == 'F' %}
						<option selected hidden value="F">Female</option>
						{% else %}
						<option selected hidden value="O">Other</option>
						{% endif %} {% else %}
						<option disabled selected hidden>Choose...</option>
						{% endif %}
						<option value="M">Male</option>
						<option value="F">Female</option>
						<option value="O">Other</option>
					</select>
				</div>
				<div class="col-auto my-1">
					<label class="mr-sm-2" for="gender">Sexuality</label>
					<select
						class="custom-select mr-sm-2 form-control form-control-lg"
						id="sexuality"
						name="sexuality"
					>
						{% if user.sexuality %} {% if user.sexuality == 'S' %}
						<option selected hidden value="S">Heterosexual</option>
						{% elif user.sexuality == 'G' %}
						<option selected hidden value="G">Homosexual</option>
						{% else %}
						<option selected hidden value="B">Bisexual</option>
						{% endif %}{% else %}
						<option disabled selected hidden>Choose...</option>
						{% endif %}
						<option value="S">Heterosexual</option>
						<option value="G">Homosexual</option>
						<option value="B">Bisexual</option>
					</select>
				</div>
			</div>
			<div class="form-group">
				<label for="birthdate" class="form-control-label"
					>Birthdate</label
				>
				<input
					type="date"
					name="birthdate"
					id="birthdate"
					max="9999-12-12"
					class="form-control form-control-lg"
					value="{{ user.birthdate }}"
					required
				/>
			</div>
			<div class="form-group">
				<label for="bio">Bio</label>
				<textarea
					class="form-control rounded-0"
					id="bio"
					name="bio"
					rows="3"
					maxlength="255"
				>
{{ user.bio }}</textarea
				>
			</div>

			<div class="form-group">
				<label for="btnloc" class="form-control-label">Location:</label>
				<div class="form-group">
					<a
						name="btnloc"
						id="btnloc"
						onclick="getlocation()"
						class="btn btn-outline-primary"
						>Detect Location</a
					><br />
				</div>
				<div class="form-group">
					<label for="latCord" class="form-control-label"
						>latitude</label
					>
					{% if user.latCord %}
					<input
						type="number"
						step="0.000001"
						name="latCord"
						id="latCord"
						placeholder="latitude"
						class="form-control rounded-0"
						value="{{ user.latCord }}"
						required
					/>
					{% else %}
					<input
						type="number"
						step="0.000001"
						name="latCord"
						id="latCord"
						placeholder="latitude"
						class="form-control rounded-0"
						required
					/>
					{% endif %}
				</div>

				<div class="form-group">
					<label for="lngCord" class="form-control-label"
						>longitude</label
					>
					{% if user.lngCord %}
					<input
						type="number"
						step="0.000001"
						name="lngCord"
						id="lngCord"
						placeholder="longitude"
						class="form-control rounded-0"
						value="{{ user.lngCord }}"
						required
					/>
					{% else %}
					<input
						type="number"
						step="0.000001"
						name="lngCord"
						id="lngCord"
						placeholder="longitude"
						class="form-control rounded-0"
						required
					/>
					{% endif %}
				</div>
				<div class="form-group">
					<label for="city" class="form-control-label">City</label>
					{% if user.city %}
					<input
						type="text"
						name="city"
						id="city"
						placeholder="city"
						class="form-control rounded-0"
						value="{{ user.city }}"
						required
					/>
					{% else %}
					<input
						type="text"
						name="city"
						id="city"
						placeholder="city"
						class="form-control rounded-0"
						required
					/>
					{% endif %}
				</div>
			</div>
			<!-- Notifications toggle button -->
			<a onclick="setpermission()" class="btn btn-outline-primary"
				>Enable Notifications</a
			>
		</fieldset>
		<div class="form-group d-flex justify-content-between">
			<button type="submit" class="btn btn-outline-primary">
				Edit
			</button>
			<small class="align-self-center"
				><a href="{{ url_for('users.password') }}" class="text-primary"
					>Change Password</a
				></small
			>
		</div>
	</form>
</div>

{% endblock content %}

